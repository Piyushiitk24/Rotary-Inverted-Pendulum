; PlatformIO Project Configuration File
;
; This file defines your project's environment, board, framework,
; and library dependencies. PlatformIO will use this to automatically
; set up your build environment.

[env:megaatmega2560]
; Specify the platform (Atmel AVR for Arduino)
platform = atmelavr

; Specify the exact board (Arduino Mega 2560)
board = megaatmega2560

; Specify the framework (Arduino)
framework = arduino

; Set the default serial monitor speed
monitor_speed = 115200

; Let PlatformIO auto-detect the current USB serial port

; Use the default Mega bootloader baud rate for uploads
upload_speed = 115200
upload_flags = 
    -D

; --- Library Dependencies ---
; PlatformIO will automatically find and install these libraries
; when you build the project.
lib_deps =
    ; For high-performance stepper motor control
    gin66/FastAccelStepper

    ; For reading the AS5600 magnetic rotary sensors
    robtillaart/AS5600
    ; SoftwareWire not needed as this firmware uses the hardware Wire/I2C bus + multiplexer
    ; Keep dependencies minimal: only stepper and AS5600
; Force FastAccelStepper to use Timer1 so pin 11 is accepted as step pin on Mega.
build_flags = -DFAS_TIMER_MODULE=1
